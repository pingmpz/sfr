<!DOCTYPE html>
{% load static %}
<!--
* CoreUI Pro based Bootstrap Admin Template
* @version v3.2.0
* @link https://coreui.io/pro/
* Copyright (c) 2020 creativeLabs Łukasz Holeczek
* License (https://coreui.io/pro/license)
-->
<html lang="en">
  <head>
    <base href="./">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta name="description" content="CoreUI - Open Source Bootstrap Admin Template">
    <meta name="author" content="Łukasz Holeczek">
    <meta name="keyword" content="Bootstrap,Admin,Template,Open,Source,jQuery,CSS,HTML,RWD,Dashboard">
    <title>SAP Modifier | Shopfloor Reporting Application</title>
    <!-- Main styles for this application-->
    <link rel="stylesheet" href="{% static "css/style.css" %}">
    <!-- Icon CSS -->
    <link href="{% static "vendors/@coreui/icons/css/free.min.css" %}" rel="stylesheet">
    <link href="{% static "vendors/@coreui/icons/css/brand.min.css" %}" rel="stylesheet">
    <!-- Select CSS -->
    <link href="{% static "vendors/select2/css/select2.min.css" %}" rel="stylesheet">
    <link href="{% static "vendors/select2/css/select2-coreui.min.css" %}" rel="stylesheet">
    <!-- Data Table CSS -->
    <link href="{% static "vendors/datatables.net-bs4/css/dataTables.bootstrap4.css" %}" rel="stylesheet">
  </head>
  <body class="c-app c-no-layout-transition">
    <!-- *** LEFT SIDE BAR *** -->
    {% include 'sidebar.html' %}
    <!-- *** RIGHT SIDE BAR *** -->
    <div class="c-wrapper">
      <!-- *** HEADER *** -->
      <header class="c-header c-header-light c-header-fixed">
        {% include 'header.html' %}
        <div class="c-subheader justify-content-between px-3">
          <!-- Breadcrumb-->
          <ol class="breadcrumb border-0 m-0 px-0 px-md-3">
            <li class="breadcrumb-item">SAP Modifier ({{sapModifierList|length}})</li>
            <!-- Breadcrumb Menu-->
          </ol>
          <div class="c-subheader-nav d-md-down-none mfe-2">
            <div class="timer"></div>
            <button type="button" class="btn btn-sm btn-link text-primary" style="padding-top: 3px;" onclick="window.scrollTo(0,0);"><i class="c-icon c-icon-sm cil-chevron-double-up"></i></a>
            <button type="button" class="btn btn-sm btn-link text-primary" style="padding-top: 3px;" onclick="window.scrollTo(0,document.body.scrollHeight);"><i class="c-icon c-icon-sm cil-chevron-double-down"></i></a>
          </div>
        </div>
      </header>
      <!-- *** BODY *** -->
      <div class="c-body">
        <main class="c-main">
          <div class="container-fluid">
            <div class="fade-in">
              <div class="row">
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="text-center">
                          <a class="toggle-vis small text-primary" data-column="0">DateTimeStamp</a> |
                          <a class="toggle-vis small text-primary" data-column="1">Mode</a> |
                          <a class="toggle-vis small text-primary" data-column="2">OrderNo</a> |
                          <a class="toggle-vis small text-primary" data-column="3">OperationNo</a> |
                          <a class="toggle-vis small text-primary" data-column="4">ControlKey</a> |
                          <a class="toggle-vis small text-primary" data-column="5">WorkCenter</a> |
                          <a class="toggle-vis small text-primary" data-column="6">PlannedDeliveryTime</a> |
                          <a class="toggle-vis small text-primary" data-column="7">CostElement</a> |
                          <a class="toggle-vis small text-primary" data-column="8">Price</a> |
                          <a class="toggle-vis small text-primary" data-column="9">Currency</a> |
                          <a class="toggle-vis small text-primary" data-column="10">MaterialGroup</a> |
                          <a class="toggle-vis small text-primary" data-column="11">PurchasingGroup</a> |
                          <a class="toggle-vis small text-primary" data-column="12">PurchasingOrg</a> |
                          <a class="toggle-vis small text-primary" data-column="13">SetupTime</a> |
                          <a class="toggle-vis small text-primary" data-column="14">OperTime</a> |
                          <a class="toggle-vis small text-primary" data-column="15">LaborTime</a>
                      </div>
                      <br>
                      <table class="table table-sm table-striped small" id="sap_mod_table" style="width: 100%">
                        <thead>
                          <tr>
                            <th>DateTimeStamp</th>
                            <th>
                              Mode
                              <a class="badge badge-pill badge-secondary" tabindex="0" role="button" data-toggle="popover" data-trigger="focus" data-html="true" title="Tips"
                              data-content="
                              <span class='text-success'><strong>11</strong> - Add</span><br>
                              <span class='text-success'><strong>12</strong> - Add (External Process)</span><br>
                              <span class='text-warning'><strong>21</strong> - Change</span><br>
                              <span class='text-warning'><strong>22</strong> - Change (External Process)</span><br>
                              <span class='text-danger'><strong>31</strong> - Delete</span><br>
                              ">?
                              </a>
                            </th>
                            <th>OrderNo</th>
                            <th>OperationNo</th>
                            <th>ControlKey</th>
                            <th>WorkCenter</th>
                            <th>PlannedDeliveryTime</th>
                            <th>CostElement</th>
                            <th>Price</th>
                            <th>Currency</th>
                            <th>MaterialGroup</th>
                            <th>PurchasingGroup</th>
                            <th>PurchasingOrg</th>
                            <th>SetupTime</th>
                            <th>OperTime</th>
                            <th>LaborTime</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for mod in sapModifierList %}
                          <tr class="{% if mod.Mode == '31' %}text-danger{% elif mod.Mode == '11' or mod.Mode == '12'%}text-success{% elif mod.Mode == '21' or mod.Mode == '22'%}text-warning{% endif %}">
                            <td data-order="{{mod.DateTimeStamp|date:"U"}}">{{mod.DateTimeStamp|default_if_none:""}}</td>
                            <td>{{mod.Mode|default_if_none:""}}</td>
                            <td>{{mod.OrderNo|default_if_none:""}}</td>
                            <td>{{mod.OperationNo|default_if_none:""}}</td>
                            <td>{{mod.ControlKey|default_if_none:""}}</td>
                            <td>{{mod.WorkCenter|default_if_none:""}}</td>
                            <td>{{mod.PlannedDeliveryTime|default_if_none:""}}</td>
                            <td>{{mod.CostElement|default_if_none:""}}</td>
                            <td>{{mod.Price|default_if_none:""}}</td>
                            <td>{{mod.Currency|default_if_none:""}}</td>
                            <td>{{mod.MaterialGroup|default_if_none:""}}</td>
                            <td>{{mod.PurchasingGroup|default_if_none:""}}</td>
                            <td>{{mod.PurchasingOrg|default_if_none:""}}</td>
                            <td>{{mod.SetupTime|default_if_none:""}}</td>
                            <td>{{mod.OperTime|default_if_none:""}}</td>
                            <td>{{mod.LaborTime|default_if_none:""}}</td>
                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
      <!-- *** FOOTER *** -->
      {% include 'footer.html' %}
    </div>
    <!-- CoreUI and necessary plugins-->
    <script src="{% static "vendors/@coreui/coreui-pro/js/coreui.bundle.min.js" %}"></script>
    <!--[if IE]><!-->
    <script src="{% static "vendors/@coreui/icons/js/svgxuse.min.js" %}"></script>
    <!--<![endif]-->
    <script src="{% static "vendors/jquery/js/jquery.min.js" %}"></script>
    <script src="{% static "vendors/select2/js/select2.min.js" %}"></script>
    <!-- Data Table JS -->
    <script src="{% static "vendors/datatables.net/js/jquery.dataTables.js" %}"></script>
    <script src="{% static "vendors/datatables.net-bs4/js/dataTables.bootstrap4.min.js" %}"></script>
    <!-- Popover JS -->
    <script src="{% static "js/popovers.js" %}"></script>
    <!-- Custom -->
    <script src="{% static "customize/js/clock.js" %}"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function(event) {
        setTimeout(function() {
          document.body.classList.remove('c-no-layout-transition')
        }, 2000);
      });

      var table;
      $(document).ready(function() {
        table = $('#sap_mod_table').DataTable( {
            "order": [[ 0, "desc" ]],
            'iDisplayLength': 100,
            "scrollX": true
        });
      });

      $('a.toggle-vis').on( 'click', function (e) {
        e.preventDefault();
        var column = table.column( $(this).attr('data-column') );
        column.visible( ! column.visible() );
        (column.visible())? $(this).removeClass("text-danger"): $(this).addClass("text-danger");
      });
    </script>
  </body>
</html>
